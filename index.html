<!DOCTYPE html>
<html lang="en">
<head>
   <!--- Basic Page Needs
   ================================================== -->
   <meta charset="utf-8">
	<title>DEADMELLOW | DENVER</title>

   <!-- Mobile Specific Metas
   ================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="DeadMellow: Denver-based DJ Tim Toole mixing pop, house, and trap to connect people through music.">
  <meta property="og:title" content="DEADMELLOW | Denver DJ Tim Toole">
  <meta property="og:description" content="DeadMellow: Denver-based DJ Tim Toole mixing pop, house, and trap to connect people through music.">
  <meta property="og:image" content="images/IMG_1289.PNG">
  <meta property="og:url" content="https://deadmellow.github.io">
  <meta name="twitter:card" content="summary_large_image">

	<!-- CSS
    ================================================== -->
   <link rel="stylesheet" href="css/default.css">
	<link rel="stylesheet" href="css/layout.css">
   <link rel="stylesheet" href="css/media-queries.css">
   <link rel="stylesheet" href="css/magnific-popup.css">
   <link rel="stylesheet" href="css/frostedcard.css">
  

   <!-- Script
   ================================================== -->

   <!-- Favicons
	================================================== -->
	<link rel="shortcut icon" href="favicon (1).png" >
<script src="https://cdn.jsdelivr.net/npm/ical.js@1.4.0/build/ical.min.js"></script></head>

<body>

   <!-- Header
   ================================================== -->
   <header id="home">

      <nav id="nav-wrap" aria-label="Main navigation">

         <a class="mobile-btn" href="#nav-wrap" title="Show navigation">Show navigation</a>
	      <a class="mobile-btn" href="#" title="Hide navigation">Hide navigation</a>

         <ul id="nav" class="nav">
            <li class="current"><a class="smoothscroll" href="#home">Home</a></li>
            <li><a class="smoothscroll" href="#about">About</a></li>
	         <li><a class="smoothscroll" href="#resume">Music</a></li>
            <li><a class="smoothscroll" href="#contact">Contact</a></li>
         </ul> <!-- end #nav -->

      </nav> <!-- end #nav-wrap -->

      <div class="row banner">
         <div class="banner-text">
            <h1 class="responsive-headline"></h1>
            <h3>
            <hr >
            <!--<ul class="social-links">
                     <li><a href="https://soundcloud.com/deadmellow"><i class="fa fa-soundcloud"></i></a></li>
                     <li><a href="https://audius.co/deadmellow"><img src="path/to/audius-icon.png" alt="Audius" style="width: 16px; height: 16px;"></a></li>
               </ul>
         </div>
      </div> -->

      <p class="scrolldown">
         <a class="smoothscroll" href="#about"><i class="icon-down-circle"></i></a>
      </p>

      <div class="overlay-split-window">
      <div class="row">
        <div class="six columns upcoming-calendar">
          <h2>Upcoming Shows</h2>
          <p><a href="calendar.ics" class="button">Subscribe to Calendar</a></p>
          <div id="calendar-list"></div>
        </div>
        <div class="six columns upcoming-soundcloud">
         <h2>Latest Mixes</h2>
         <!-- Existing SoundCloud widget, adjusted height -->
         <iframe
           width="100%"
           height="600"
           scrolling="no"
           frameborder="no"
           loading="lazy"
           src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/users/40112421&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;visual=true"
         ></iframe>
       </div>
     </div>
   </div>

   </header> <!-- Header End -->

   <!-- About Section
   ================================================== -->
   <section id="about">

      <div class="row">

         <div class="three columns">

            <img class="profile-pic"  src="images/IMG_1289.PNG" alt="Tim Toole DJ profile shot" loading="lazy" />

         </div>

         <div class="nine columns main-col">

            <h2>About Me</h2>

            <p>The deadmellow project is a way to connect people through music. Tim set out to play music that makes people happy.
		    Deadmellow is based out of Denver.  
            </p>

            <div class="row">

               <div class="columns contact-details">

                  <h2>Booking</h2>
                  <p class="address">
						   <span>Tim</span><br>
                     <span>tim@deadmellow.com</span>
					   </p>
                  </p>
               </div>

            </div> <!-- end row -->

         </div> <!-- end .main-col -->

      </div>

   </section> <!-- About Section End-->


   <!-- Resume Section
   ================================================== -->
   <section id="resume">

      <!-- Education
      ----------------------------------------------- -->
      <div class="row education">

         <div class="three columns header-col">
            <h1><span>Music</span></h1>
         </div>

         <div class="nine columns main-col">

            <div class="row item">

               <div class="twelve columns">

                  <h3><iframe width="100%" height="450" scrolling="no" frameborder="no" loading="lazy" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/users/40112421&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;visual=true"></iframe>

               </div>

            </div> <!-- item end -->

            <div class="row item">

               <div class="twelve columns">                

               </div>

            </div> <!-- item end -->

         </div> <!-- main-col end -->

      </div> <!-- End Education -->

      <section id="works"></section>
      <!-- Work
      ----------------------------------------------- -->

   <!-- Contact Section
   ================================================== -->
   <section id="contact">

         <div class="row section-head">

            <div class="two columns header-col">

               <h1><span>Get In Touch.</span></h1>

            </div>

            <div class="ten columns">

                  <p class="lead">Want to book deadmellow? Get in touch.
                  </p>

            </div>

         </div>

         <div class="row">

            <div class="eight columns">

               <!-- form -->
               <form action="" method="post" id="contactForm" name="contactForm">
					<fieldset>

                  <div>
						   <label for="contactName">Name <span class="required">*</span></label>
						   <input type="text" value="" size="35" id="contactName" name="contactName">
                  </div>

                  <div>
						   <label for="contactEmail">Email <span class="required">*</span></label>
						   <input type="text" value="" size="35" id="contactEmail" name="contactEmail">
                  </div>

                  <div>
						   <label for="contactSubject">Subject</label>
						   <input type="text" value="" size="35" id="contactSubject" name="contactSubject">
                  </div>

                  <div>
                     <label for="contactMessage">Message <span class="required">*</span></label>
                     <textarea cols="50" rows="15" id="contactMessage" name="contactMessage"></textarea>
                  </div>

                  <div>
                     <button class="submit">Submit</button>
                     <span id="image-loader">
                        <img alt="" src="images/loader.gif">
                     </span>
                  </div>

					</fieldset>
				   </form> <!-- Form End -->

               <!-- contact-warning -->
               <div id="message-warning"> Error boy</div>
               <!-- contact-success -->
				   <div id="message-success">
                  <i class="fa fa-check"></i>Your message was sent, thank you!<br>
				   </div>

            </div>


            <aside class="four columns footer-widgets">

               <div class="widget widget_contact">

					   <h4>For Bookings</h4>
					   <p class="address">
						   Tim Toole<br>
						   (312) 497-6223<br>
						   <a href="mailto:tim@deadmellow.com" target="_top">tim@deadmellow.com</a> <br>
					   </p>

				   </div>

 

		         </div>

            </aside>

      </div>

   </section> <!-- Contact Section End-->


   <!-- footer
   ================================================== -->
   <footer>

      <div class="row">

         <div class="twelve columns">

            <ul class="social-links">
               <li><a href="https://soundcloud.com/deadmellow"><i class="fa fa-soundcloud"></i></a></li>
               <li><a href="https://audius.co/deadmellow"><img src="/images/audius.png" alt="Audius" style="width: 16px; height: 16px;"></a></li>
           </ul>

            <ul class="copyright">
               <li>&copy;Copyright 2024 deadmellow</li>
               <li>Design by deadmellow & <a title="Styleshout" href="http://www.styleshout.com/">Styleshout</a></li>   
            </ul>

         </div>

         <div id="go-top"><a class="smoothscroll" title="Back to Top" href="#home"><i class="icon-up-open"></i></a></div>

      </div>

   </footer> <!-- Footer End-->


   ================================================== -->
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" defer></script>
   <script defer>window.jQuery || document.write('<script src="js/jquery-1.10.2.min.js" defer><\/script>')</script>
   <script src="js/jquery-migrate-1.2.1.min.js" defer></script>
   <script src="js/jquery.flexslider.js" defer></script>
   <script src="js/waypoints.js" defer></script>
   <script src="js/jquery.fittext.js" defer></script>
   <script src="js/magnific-popup.js" defer></script>
   <script src="js/init.js" defer></script>
<script defer>
document.addEventListener('DOMContentLoaded', function() {
  fetch('./calendar.ics')
    .then(response => response.text())
    .then(icsText => {
      const jcal = ICAL.parse(icsText);
      const comp = new ICAL.Component(jcal);
      const vevents = comp.getAllSubcomponents('vevent');
      // Build next occurrences, including recurring events
      const today = new Date();
      const upcomingOccurrences = [];
      vevents.forEach(component => {
        const ev = new ICAL.Event(component);
        if (ev.isRecurring()) {
          const iterator = ev.iterator();
          let next;
          // get up to 5 total occurrences (shared across all recurring events)
          while ((next = iterator.next()) && upcomingOccurrences.length < 5) {
            const date = next.toJSDate();
            if (date >= today) {
              upcomingOccurrences.push({ date, summary: ev.summary });
            }
          }
        } else {
          const date = ev.startDate.toJSDate();
          if (date >= today) {
            upcomingOccurrences.push({ date, summary: ev.summary });
          }
        }
      });
      // sort all occurrences by date and take the first five
      upcomingOccurrences.sort((a, b) => a.date - b.date);
      const upcoming = upcomingOccurrences.slice(0, 5);
      // Render list items
      const listEl = document.getElementById('calendar-list');
      if (upcoming.length) {
        listEl.innerHTML = '';
        upcoming.forEach(item => {
          const container = document.createElement('div');
          container.className = 'event-item';

          const titleEl = document.createElement('h3');
          titleEl.textContent = item.summary;
          titleEl.className = 'event-title';
          container.appendChild(titleEl);

          const dateEl = document.createElement('p');
          dateEl.className = 'event-date';
          dateEl.textContent = item.date.toLocaleDateString('en-US', { weekday:'short', month:'short', day:'numeric', year:'numeric' });
          container.appendChild(dateEl);

          const link = document.createElement('a');
          link.href = '#';
          link.className = 'add-calendar-link';
          link.textContent = 'Add to calendar';
          link.addEventListener('click', function(e) {
            e.preventDefault();
            const icsLines = [
              'BEGIN:VCALENDAR',
              'VERSION:2.0',
              'BEGIN:VEVENT',
              'UID:' + item.summary + item.date.getTime(),
              'DTSTAMP:' + new ICAL.Time.now().toString(),
              'SUMMARY:' + item.summary,
              'DTSTART:' + ICAL.Time.fromJSDate(item.date, true).toString(),
              'END:VEVENT',
              'END:VCALENDAR'
            ];
            const blob = new Blob([icsLines.join('\r\n')], { type: 'text/calendar' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = item.summary.replace(/\s+/g,'_') + '.ics';
            a.click();
            URL.revokeObjectURL(url);
          });
          container.appendChild(link);

          listEl.appendChild(container);
        });
      } else {
        listEl.innerHTML = '<p>No upcoming shows.</p>';
      }
    })
    .catch(err => {
      console.error(err);
      document.getElementById('calendar-list').innerHTML = '<p>Could not load events.</p>';
    });
});
</script>
</body>

</html>
